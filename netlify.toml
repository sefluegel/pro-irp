# netlify.toml

# ────────────────────────────────────────────────────────────────────────────────
# Build Settings
# ────────────────────────────────────────────────────────────────────────────────
[build]
  # 1) cd into your frontend folder
  base    = "frontend"
  # 2) install & build the React app
  command = "npm install && npm run build"
  # 3) publish the build output (relative to base)
  publish = "build"

# Ensure Webpack works on Node ≥17 by enabling the legacy OpenSSL provider
[build.environment]
  NODE_OPTIONS = "--openssl-legacy-provider"

# ────────────────────────────────────────────────────────────────────────────────
# Redirect all routes to index.html for client-side routing
# ────────────────────────────────────────────────────────────────────────────────
[[redirects]]
  from   = "/*"
  to     = "/index.html"
  status = 200
